### Fraud Detection System using Flask and DecisionTreeClassifier

This is a web application designed to detect fraudulent transactions using a machine learning model. The system is built with Flask for the web interface and utilizes a `DecisionTreeClassifier` trained within a `Pipeline` for predictions. It also includes an automated Exploratory Data Analysis (EDA) component that runs upon application startup and can be re-run on demand.

### Features

* **Fraud Detection**: Predicts whether a transaction is 'FRAUD' or 'NOT fraud' based on various input features.
* **Automated EDA**: Performs comprehensive exploratory data analysis on the transaction dataset and saves a detailed summary to a text file (`eda_summary.txt`). This runs automatically on application startup.
* **Simple Web Interface**: Provides a web form for users to input transaction details and receive instant predictions.

### Requirements

The application relies on the following Python libraries:

* **Python 3.x**
* **Flask**: For building the web application.
* **Pandas**: For data manipulation and analysis.
* **scikit-learn**: For machine learning, specifically `DecisionTreeClassifier`, `StandardScaler`, and `Pipeline`.
* **joblib**: For saving and loading the trained model and scaler.

You can install these dependencies using `pip` from a `requirements.txt` file (which you would create).

### Installation and Setup

1.  **Project Structure:**
    ```
    /your-project-directory
    │── /data
    │   └── fraud_dataset.csv            # Your dataset
    │── /model
    │   └── fraud_model.pkl              # Trained machine learning model (Pipeline with Scaler + Classifier)
    │   └── scaler.pkl                   # (Optional, if you save scaler separately, but pipeline includes it)
    │── /backend
    │   └── eda_summary.txt              # EDA summary generated by app.py
    │── /templates                       # HTML templates
    │   ├── home.html                    # Homepage template
    │   ├── index.html                   # Prediction page template
    │   └── analysis_complete.html       # Optional: for analysis route
    │── app.py                           # Flask web application
    │── train_model.py                   # Model training script
    │── requirements.txt                 # Python dependencies (create this file)
    │── README.md                        # Project documentation (this file)
    ```

2.  **Place your dataset**: Ensure your dataset, named `fraud_dataset.csv`, is located in the `data/` directory relative to your project root.

3.  **Create `requirements.txt`**: Create a file named `requirements.txt` in your project root with the following content:
    ```
    flask
    pandas
    scikit-learn
    joblib
    numpy
    ```

4.  **Set up a virtual environment (recommended):**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows: venv\Scripts\activate
    ```

5.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

6.  **Train the Machine Learning Model**:
    Run the `train_model.py` script **once** to train the `DecisionTreeClassifier` (within a `Pipeline` that includes `StandardScaler`) and save it as `fraud_model.pkl`.
    ```bash
    python train_model.py
    ```
    This script will:
    * Load `fraud_dataset.csv`.
    * Split the data into training and testing sets.
    * Create a `Pipeline` that first scales the data using `StandardScaler` and then classifies using `DecisionTreeClassifier`.
    * Train the pipeline on the training data.
    * Evaluate the model and print a classification report.
    * Save the trained pipeline (model) to `backend/model/fraud_model.pkl`. *Note: The `app.py` expects the model in `model/fraud_model.pkl`, so you might need to adjust the `joblib.dump` path in `train_model.py` to `joblib.dump(pipeline, 'model/fraud_model.pkl')` if your `backend` directory is not at the same level as `app.py` in the final deployment, or create a symlink.*

7.  **Run the Flask Application**:
    ```bash
    python app.py
    ```
    This will start the Flask development server. Upon startup, it will also automatically perform EDA and save the results to `backend/eda_summary.txt`.

8.  **Access the Application**: Open your web browser and navigate to `http://127.0.0.1:5000`.

### Project Structure (Detailed)

* **`/data/fraud_dataset.csv`**: The dataset containing transaction information, including a 'fraud' column as the target variable.
* **`/backend/eda_summary.txt`**: A text file generated by `app.py` at startup (or when `/analyze` is accessed), containing a summary of descriptive statistics, missing values, data types, and other insights from the dataset.
* **`/model/fraud_model.pkl`**: The serialized (trained) `Pipeline` model (which includes `StandardScaler` and `DecisionTreeClassifier`) used for predictions.
* **`/templates/`**: Contains the HTML templates for the web interface:
    * `home.html`: The initial landing page.
    * `index.html`: The page with the form for user input and where predictions are displayed.
    * `analysis_complete.html`: An optional template for the `/analyze` route, indicating EDA completion.
* **`app.py`**: The main Flask application script. It handles:
    * Loading the trained model and scaler.
    * Serving the homepage (`/`) and prediction input page (`/predict-page`).
    * Processing user input from the prediction form (`/predict`).
    * Making predictions using the loaded model and scaler.
    * Rendering the results.
    * Performing and saving the EDA summary when the application starts or when `/home` or `/analyze` routes are accessed.
* **`train_model.py`**: A separate script responsible for loading the dataset, preprocessing it (including scaling), training the `DecisionTreeClassifier` within a `Pipeline`, evaluating its performance, and saving the trained pipeline.
* **`requirements.txt`**: Lists all Python packages required for the project.

### Usage

1.  **Initial Setup**: Ensure you have run `python train_model.py` at least once to create the `model/fraud_model.pkl` file before starting the Flask app.
2.  **Review EDA Results**: After running `app.py`, check the `backend/eda_summary.txt` file in your project's `backend` directory for a comprehensive overview of your dataset. This includes dataset shape, column types, summary statistics, missing values, unique values, and the first few rows.
3.  **Access the Application**: Open `http://127.0.0.1:5000` in your web browser to reach the home page.
4.  **Go to Prediction Page**: Navigate to the prediction page (e.g., by clicking a link on `home.html` or directly accessing `/predict-page`).
5.  **Enter Transaction Details**: Input the relevant numerical features for a transaction into the form fields.
6.  **Get Prediction**: Click the "Predict" button.
7.  **View Outcome**: The application will display whether the transaction is "FRAUD ❌" or "NOT fraud ✅" based on the model's prediction.
